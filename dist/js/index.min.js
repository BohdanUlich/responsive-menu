const menuList=document.querySelector(".menu-list"),menuBtn=document.querySelector(".header__menu-btn"),menuMobile=document.querySelector(".menu-mobile");let menuItems=document.getElementsByClassName("header__menu-item"),activeId=null;for(let e=0;e<menuItems.length;e++)menuItems.item(e).dataset?.id&&menuItems.item(e).addEventListener("click",(()=>onClickMenuItem(menuItems.item(e).dataset.id)));document.addEventListener("click",(e=>{let t=e.target,s=document.querySelector(`.menu-list__block[data-id="${activeId}"]`),i=document.querySelector(`.header__menu-item[data-id="${activeId}"]`),c=t==menuList||menuList.contains(t),o=t.classList.contains("header__menu-item");c||o||(menuList.classList.remove("active"),s?.classList.remove("active"),i?.classList.remove("active"),activeId=null)}));const onClickMenuItem=e=>{let t=document.querySelector(`.menu-list__block[data-id="${e}"]`),s=document.querySelector(`.header__menu-item[data-id="${e}"]`),i=document.querySelector(`.menu-list__block[data-id="${activeId}"]`),c=document.querySelector(`.header__menu-item[data-id="${activeId}"]`);i?.classList.remove("active"),c?.classList.remove("active"),activeId!==e&&(s.classList.add("active"),t.classList.add("active")),activeId===e&&menuList.classList.contains("active")?menuList.classList.remove("active"):menuList.classList.add("active"),activeId=activeId!==e?e:null};menuBtn.addEventListener("click",(function(){menuBtn.classList.toggle("active"),menuMobile.classList.toggle("active")}));class ItcAccordion{constructor(e,t){this._el="string"==typeof e?document.querySelector(e):e;this._config=Object.assign({alwaysOpen:!0,duration:350},t),this.addEventListener()}addEventListener(){this._el.addEventListener("click",(e=>{const t=e.target.closest(".accordion__header");if(t){if(!this._config.alwaysOpen){const e=this._el.querySelector(".accordion__item_show");e&&e!==t.parentElement&&this.toggle(e)}this.toggle(t.parentElement)}}))}show(e){const t=e.querySelector(".accordion__body");if(t.classList.contains("collapsing")||e.classList.contains("accordion__item_show"))return;t.style.display="block";const s=t.offsetHeight;t.style.height=0,t.style.overflow="hidden",t.style.transition=`height ${this._config.duration}ms ease`,t.classList.add("collapsing"),e.classList.add("accordion__item_slidedown"),t.offsetHeight,t.style.height=`${s}px`,window.setTimeout((()=>{t.classList.remove("collapsing"),e.classList.remove("accordion__item_slidedown"),t.classList.add("collapse"),e.classList.add("accordion__item_show"),t.style.display="",t.style.height="",t.style.transition="",t.style.overflow=""}),this._config.duration)}hide(e){const t=e.querySelector(".accordion__body");!t.classList.contains("collapsing")&&e.classList.contains("accordion__item_show")&&(t.style.height=`${t.offsetHeight}px`,t.offsetHeight,t.style.display="block",t.style.height=0,t.style.overflow="hidden",t.style.transition=`height ${this._config.duration}ms ease`,t.classList.remove("collapse"),e.classList.remove("accordion__item_show"),t.classList.add("collapsing"),window.setTimeout((()=>{t.classList.remove("collapsing"),t.classList.add("collapse"),t.style.display="",t.style.height="",t.style.transition="",t.style.overflow=""}),this._config.duration))}toggle(e){e.classList.contains("accordion__item_show")?this.hide(e):this.show(e)}}new ItcAccordion("#accordion",{alwaysOpen:!1});